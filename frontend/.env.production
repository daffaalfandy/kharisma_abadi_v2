# Kharisma Abadi Frontend - Production Environment Variables
# Used when running: npm run build && npm start
# WARNING: Production environment - handle with care!

# ============================================================================
# API Configuration
# ============================================================================

# Backend API base URL (relative path when behind reverse proxy)
# Use /api/v1 to make requests to same host (served behind Nginx)
# This avoids CORS issues and works behind reverse proxy
NEXT_PUBLIC_API_URL=/api/v1

# API timeout (30 seconds)
NEXT_PUBLIC_API_TIMEOUT=30000

# ============================================================================
# Application Configuration
# ============================================================================

# Application name
NEXT_PUBLIC_APP_NAME=Kharisma Abadi

# Current environment
NEXT_PUBLIC_ENVIRONMENT=production

# IMPORTANT: Disable debug logging in production
NEXT_PUBLIC_DEBUG=false

# ============================================================================
# Feature Flags - Controlled Rollout
# ============================================================================

# Enable core features
NEXT_PUBLIC_FEATURE_SMS=true
NEXT_PUBLIC_FEATURE_REPORTS=true
NEXT_PUBLIC_FEATURE_ADVANCED_FILTERS=true
NEXT_PUBLIC_FEATURE_CUSTOMER_MGMT=true

# IMPORTANT: Disable experimental features in production
NEXT_PUBLIC_EXPERIMENTAL_FEATURES=false

# ============================================================================
# UI Configuration
# ============================================================================

# Items per page (balance between performance and UX)
NEXT_PUBLIC_ITEMS_PER_PAGE=20

# ============================================================================
# Analytics - Enable for Production
# ============================================================================

# IMPORTANT: Set these to your actual production values
# Google Analytics ID
NEXT_PUBLIC_GA_ID=G_XXXXXXXXXX

# Sentry error tracking (for production monitoring)
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# ============================================================================
# Server-Side Only
# ============================================================================

# Backend API URL for server-side requests (Docker Compose service)
# Use docker service name when containerized
API_SECRET_URL=http://backend:8000/api/v1

# Use sessionStorage for sensitive token storage (cleared on browser close)
TOKEN_STORAGE=sessionStorage

# CORS enabled
CORS_ENABLED=true

# ============================================================================
# Security - Production Strict
# ============================================================================

# IMPORTANT: Enforce CSP violations in production (don't allow unsafe content)
CSP_REPORT_ONLY=false

# Disable security headers test mode
SECURITY_HEADERS_TEST=false

# IMPORTANT: Verify HTTPS in production
REQUIRE_HTTPS=true

# ============================================================================
# Performance Optimization
# ============================================================================

# Enable static generation caching
NEXT_STATIC_REGENERATION=true

# Static revalidation interval (in seconds)
NEXT_ISR_REVALIDATE=3600

# ============================================================================
# Build Configuration
# ============================================================================

# Standalone mode for Docker deployment
NEXT_STANDALONE=true

# ============================================================================
# CRITICAL REMINDERS
# ============================================================================

# 1. CHANGE GA_ID to your actual Google Analytics ID
# 2. CHANGE SENTRY_DSN to your actual Sentry project DSN
# 3. Verify all URLs are using HTTPS
# 4. Test authentication and API calls before deploying
# 5. Monitor logs and error tracking after deployment
# 6. Update these values for your production domain
#
# SECURITY CHECKLIST:
# - [ ] DEBUG=false (no debug info exposed)
# - [ ] CSP_REPORT_ONLY=false (CSP enforced)
# - [ ] REQUIRE_HTTPS=true (enforce secure connections)
# - [ ] TOKEN_STORAGE=sessionStorage (more secure)
# - [ ] SENTRY_DSN set for error monitoring
# - [ ] GA_ID set for analytics
# - [ ] No environment secrets committed
# - [ ] Review security headers in Nginx config
# - [ ] Enable HTTPS in reverse proxy
# - [ ] Test health endpoints
