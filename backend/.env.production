# =====================================================
# Kharisma Abadi Backend - Production Environment
# =====================================================
# FILL IN ALL VALUES WITH REAL PRODUCTION CREDENTIALS!
# DO NOT use default or placeholder values!

ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info

# Server
HOST=0.0.0.0
PORT=8000

# Database (change to real values!)
DB_HOST=database
DB_PORT=3306
DB_DATABASE=kharisma_db
DB_USER=kharisma
DB_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD_32_CHARS_MIN
DB_ROOT_PASSWORD=CHANGE_THIS_TO_SECURE_ROOT_PASSWORD

DATABASE_URL=mysql://kharisma:CHANGE_THIS_TO_SECURE_PASSWORD@database:3306/kharisma_db

# Database connections
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# Redis (with password if configured)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_IF_REDIS_PASSWORD_ENABLED
REDIS_DB=0

# Security (MUST CHANGE!)
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_CHARACTER_STRING_FROM_OPENSSL_RAND
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_HOURS=14  # Shorter for production
REFRESH_TOKEN_EXPIRE_DAYS=7
BCRYPT_COST=12  # Standard cost for production

# CORS (set to actual domain)
CORS_ALLOWED_ORIGINS=https://kharisma.local,https://www.kharisma.local

# External services (use real credentials)
SMS_PROVIDER=twilio  # or your SMS provider
SMS_API_KEY=ENTER_YOUR_REAL_SMS_API_KEY
SMS_API_SECRET=ENTER_YOUR_REAL_SMS_API_SECRET
SMS_FROM_NUMBER=ENTER_YOUR_REAL_SMS_FROM_NUMBER

# Payment Gateway (if enabled)
PAYMENT_PROVIDER=midtrans  # or your payment provider
PAYMENT_API_KEY=ENTER_YOUR_REAL_PAYMENT_API_KEY
PAYMENT_API_SECRET=ENTER_YOUR_REAL_PAYMENT_API_SECRET
PAYMENT_WEBHOOK_SECRET=ENTER_YOUR_REAL_WEBHOOK_SECRET

# File upload
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx

# Email (if notifications enabled)
SMTP_HOST=smtp.gmail.com  # or your SMTP server
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=noreply@kharisma-abadi.com
SMTP_USE_TLS=true

# Logging (production)
LOG_FILE=/var/log/kharisma/app.log
LOG_MAX_BYTES=52428800  # 50MB
LOG_BACKUP_COUNT=10

# Error tracking (optional but recommended)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Rate limiting (stricter in production)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_PER_HOUR=500

# Backup settings
BACKUP_DIR=/var/backups/kharisma
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# Feature flags (enable based on readiness)
FEATURE_SMS_NOTIFICATIONS=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_PAYMENT_GATEWAY=false  # Enable when ready
FEATURE_REPORTS_EXPORT=true

# DO NOT enable in production
AUTO_SEED_DATABASE=false
